@using Falcon.Gyrkin.Library.Extensions
@{
  ViewBag.Title = "Associate";
}
<body class="login">
  <div class="logo">
    <a href="index.html">
      <img src="../../assets/img/logo-big.png" alt="" />
    </a>
  </div>
  <div class="content">
    <input type="hidden" ng-model="token" value="@Html.RequestVerificationToken()" copy-value ng-cloak />
    <form class="login-form" method="post" ng-submit="associateForm.$valid" novalidate style="display: block;" ng-cloak ng-controller="AssociateController" name="associateForm" action="/User/Account/Associate">
      <h3 class="form-title">Associate User</h3>
      @if (ViewData.ModelState["ERROR_LINKING_USER"] != null && ViewData.ModelState["ERROR_LINKING_USER"].Errors.Count >  0)
      {
        <text>

          <div class="alert alert-danger">
            <button class="close" data-close="alert"></button>
            <span>
              @Html.ValidationMessage("ERROR_LINKING_USER")
            </span>
          </div>
        </text>

      }
      <div class="alert alert-danger display-hide">
        <button class="close" data-close="alert"></button>
        <span>
          Please enter a valid id number.
        </span>
      </div>
      <div class="form-group">
        <label class="control-label visible-ie8 visible-ie9">ID Number</label>
        <input class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="ID Number" id="IdNumber" name="idnumber" required />
      </div>
      <div class="form-actions">
        <button 
          type="submit" 
          class="btn btn-success uppercase" 
          button-loading="is_processing" 
          ng-click="is_processing = true;">Link</button>
      </div>
    </form>
  </div>
  @section Scripts
  {
    <script>
      jQuery(document).ready(function () {
        Metronic.init();
        Layout.init();
        Login.initAssociate();
      });
    </script>
  }
</body>
<!-- END BODY -->
@section LoginCSS{
  @Styles.Render("~/LoginCSS")
}